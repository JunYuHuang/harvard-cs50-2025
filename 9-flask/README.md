# Week 9 Flask

## Lecture Material

- web page: https://cs50.harvard.edu/x/weeks/9
- notes: https://cs50.harvard.edu/x/notes/9/
- slides: https://cdn.cs50.net/cs50/fall/lectures/9/lecture9.pdf
- code: https://cdn.cs50.net/cs50/fall/lectures/9/src9/
- Problem Set 9: https://cs50.harvard.edu/x/psets/9/
- topics:
    - Flask. Route. Decorators. Requests, Responses. Sessions. Cookies.

## Notes

- Flask: a Python web server micro-framework 
- basics
    ```
    flask run
    ```
- needed files and optional ones
    ```
    app.py
    requirements.txt
    templates/
    ```
- boilerplate code:
    ```python
    from flask import Flask

    app = Flask(__name__)

    @app.route("/")
    def index():
        return "hello, world"
    ```
- misc:
    ```
    request.args
    ```
- Jinja: a Python dynamic HTML templating library
    - used internally by Flask
    - jinja.palletsprojects.com/templates/
- never trust user input
- HTTP method GET vs POST:
    - use POST for destructive effects / mutations or when need to hide sensitive info
- MVC: Model-View-Controller
    - common web app architecture pattern
    - model = persistent storage e.g., a SQLite3 database
    - view = HTML web page generated by the controller
    - controller = `app.py` containing the business logic
- cookie:
    - an HTTP header for tracking state (i.e., persistent sessions across web page reloads)
    - a key-value pair stored in your web browser for staying logged into websites
    - server sends this:
        ```
        HTTP/2 200
        Content-Type: text/html
        Set-Cookie: session=value
        ...
        ```
    - client gets this:
        ```
        GET / HTTP/2
        Host: accounts.google.com
        Cookie: session=value
        ...
        ```
- session:
    - lets a client and a server keep a persistent web connection
    - enabled by cookies
    - because HTTP is stateless; it doesn't store persistent statuses
    - a dictionary of key-value pairs that can be associated to every logged in user
- API = Application Programmming Interface
    - create routes that returns data in some format
    - web based functions that are callable
- JSON = JavaScript Object Notation
    - a data format

## Problem Set 9

- [ ] Complete [Birthdays](https://cs50.harvard.edu/x/psets/9/birthdays/)
- [ ] Complete [Finance](https://cs50.harvard.edu/x/psets/9/finance/)
